<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container py-4">

  <div class="card mb-4">
    <div class="card-body d-flex align-items-center">
      <img th:if="${band.profileImg==null}" src="/images/band/band_profile.png" alt="프로필 이미지"
           class="rounded border me-4" style="width: 120px; height: 120px; object-fit: cover;">
      <img th:if="${band.profileImg!=null}" th:src="${band.profileImg}" alt="프로필 이미지"
           class="rounded border me-4" style="width: 120px; height: 120px; object-fit: cover;">

      <div>
        <h2 class="mb-2" th:text="${band.bandName}"></h2>

        <div class="btn-group" role="group">
          <a th:href="@{|/band/${band.id}/list|}" class="btn btn-outline-secondary">밴드 게시판</a>
          <a th:href="@{|/chat?id=${band.chatRoom.id}|}" class="btn btn-primary">💬 그룹채팅</a>
          <a th:href="@{|/band/setting/${band.id}|}" class="btn btn-outline-dark">설정</a>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header bg-dark text-white text-center fw-bold">
      밴드 멤버 목록
    </div>
    <div class="table-responsive">
      <table class="table table-hover text-center mb-0">
        <thead class="table-light">
        <tr>
          <th>번호</th>
          <th>닉네임</th>
          <th>포지션</th>
          <th>역할</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="member, loop : ${memberList}">
          <td th:text="${loop.index+1}"></td>
          <td th:text="${member.user.nickname}"></td>
          <td th:text="${member.position.displayName}"></td>
          <td th:text="${member.memberRole.displayName}"></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
</html>